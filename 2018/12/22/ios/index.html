<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <base href="/">
    <title>iOS大杂烩 - 白季飞龙的个人主页</title>
    <style>
        pre {
            padding: 0.5em;
            overflow: auto;
            font-weight: bold !important;
            font-family: consolas, Menlo, monospace !important;
        }

        ul#menu {
            display: inline-block;
            list-style: none;
            margin: 0 0 0 0.25em;
            padding: 0;
        }

        ul#menu > li {
            display: inline-block;
        }

        ul#menu > li > a {
            text-decoration: none;
            color: inherit;
            margin: 0 0.25em;
        }

        ul#menu > li > a:hover {
            color: #d33682;
        }

        ul#articles {
            list-style: none;
            margin: 0;
            padding: 0;
        }

        ul#articles > li {
            margin: 0.5rem 0;
        }

        ul#articles > li > a {
            text-decoration: none;
            color: inherit;
        }

        ul#articles > li > a:hover {
            color: #d33682;
        }

        img {
            max-width: 100%;
        }

                article,
        aside,
        details,
        figcaption,
        figure,
        footer,
        header,
        hgroup,
        nav,
        section,
        summary {
          display: block;
        }
        audio,
        canvas,
        video {
          display: inline-block;
        }
        audio:not([controls]) {
          display: none;
          height: 0;
        }
        [hidden] {
          display: none;
        }
        html {
          font-family: sans-serif;
          -webkit-text-size-adjust: 100%;
          -ms-text-size-adjust: 100%;
        }
        body {
          margin: 0;
        }
        a:focus {
          outline: thin dotted;
        }
        a:active,
        a:hover {
          outline: 0;
        }
        h1 {
          font-size: 2rem;
        }
        abbr[title] {
          border-bottom: 1px dotted;
        }
        b,
        strong {
          font-weight: bold;
        }
        dfn {
          font-style: italic;
        }
        mark {
          background: #ff0;
          color: #000;
        }
        code,
        kbd,
        pre,
        samp {
          font-family: monospace, serif;
          font-size: 1rem;
        }
        pre {
          white-space: pre-wrap;
          word-wrap: break-word;
        }
        q {
          quotes: "\201C" "\201D" "\2018" "\2019";
        }
        small {
          font-size: 80%;
        }
        sub,
        sup {
          font-size: 75%;
          line-height: 0;
          position: relative;
          vertical-align: baseline;
        }
        sup {
          top: -0.5rem;
        }
        sub {
          bottom: -0.25rem;
        }
        img {
          border: 0;
        }
        svg:not(:root) {
          overflow: hidden;
        }
        figure {
          margin: 0;
        }
        fieldset {
          border: 1px solid #c0c0c0;
          margin: 0 2px;
          padding: 0.35em 0.625em 0.75rem;
        }
        legend {
          border: 0;
          padding: 0;
        }
        button,
        input,
        select,
        textarea {
          font-family: inherit;
          font-size: 100%;
          margin: 0;
        }
        button,
        input {
          line-height: normal;
        }
        button,
        html input[type="button"],
        input[type="reset"],
        input[type="submit"] {
          -webkit-appearance: button;
          cursor: pointer;
        }
        button[disabled],
        input[disabled] {
          cursor: default;
        }
        input[type="checkbox"],
        input[type="radio"] {
          box-sizing: border-box;
          padding: 0;
        }
        input[type="search"] {
          -webkit-appearance: textfield;
          -moz-box-sizing: content-box;
          -webkit-box-sizing: content-box;
          box-sizing: content-box;
        }
        input[type="search"]::-webkit-search-cancel-button,
        input[type="search"]::-webkit-search-decoration {
          -webkit-appearance: none;
        }
        button::-moz-focus-inner,
        input::-moz-focus-inner {
          border: 0;
          padding: 0;
        }
        textarea {
          overflow: auto;
          vertical-align: top;
        }
        table {
          border-collapse: collapse;
          border-spacing: 0;
        }
        @import url(//fonts.googleapis.com/css?family=PT+Sans);
        @import url(//fonts.googleapis.com/css?family=PT+Sans+Narrow:400,700);
        html {
          font-family: 'PT Sans', sans-serif;
        }
        pre,
        code {
          font-family: monospace, sans-serif;
        }
        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
          font-family: 'PT Sans Narrow', sans-serif;
          font-weight: 700;
        }
        html {
          background-color: #fdf6e3;
          color: #657b83;
          margin: 1rem;
        }
        code {
          background-color: #eee8d5;
          padding: 2px;
        }
        a {
          color: #b58900;
        }
        a:visited {
          color: #cb4b16;
        }
        a:hover {
          color: #cb4b16;
        }
        h1 {
          color: #d33682;
        }
        h2,
        h3,
        h4,
        h5,
        h6 {
          color: #859900;
        }
        pre {
          background-color: #fdf6e3;
          color: #657b83;
          border: 1pt solid #93a1a1;
          padding: 1rem;
          box-shadow: 5pt 5pt 8pt #eee8d5;
        }
        pre code {
          background-color: #fdf6e3;
        }
        h1 {
          font-size: 2.8rem;
        }
        h2 {
          font-size: 2.4rem;
        }
        h3 {
          font-size: 1.8rem;
        }
        h4 {
          font-size: 1.4rem;
        }
        h5 {
          font-size: 1.3rem;
        }
        h6 {
          font-size: 1.15rem;
        }
        .tag {
          background-color: #eee8d5;
          color: #d33682;
          padding: 0 0.2rem;
        }
        .todo,
        .next,
        .done {
          color: #fdf6e3;
          background-color: #dc322f;
          padding: 0 0.2rem;
        }
        .tag {
          -webkit-border-radius: 0.35rem;
          -moz-border-radius: 0.35rem;
          border-radius: 0.35rem;
        }
        .TODO {
          -webkit-border-radius: 0.2rem;
          -moz-border-radius: 0.2rem;
          border-radius: 0.2rem;
          background-color: #2aa198;
        }
        .NEXT {
          -webkit-border-radius: 0.2rem;
          -moz-border-radius: 0.2rem;
          border-radius: 0.2rem;
          background-color: #268bd2;
        }
        .ACTIVE {
          -webkit-border-radius: 0.2rem;
          -moz-border-radius: 0.2rem;
          border-radius: 0.2rem;
          background-color: #268bd2;
        }
        .DONE {
          -webkit-border-radius: 0.2rem;
          -moz-border-radius: 0.2rem;
          border-radius: 0.2rem;
          background-color: #859900;
        }
        .WAITING {
          -webkit-border-radius: 0.2rem;
          -moz-border-radius: 0.2rem;
          border-radius: 0.2rem;
          foreground-color: #cb4b16;
        }
        .HOLD {
          -webkit-border-radius: 0.2rem;
          -moz-border-radius: 0.2rem;
          border-radius: 0.2rem;
          foreground-color: #d33682;
        }
        .NOTE {
          -webkit-border-radius: 0.2rem;
          -moz-border-radius: 0.2rem;
          border-radius: 0.2rem;
          foreground-color: #d33682;
        }
        .CANCELLED {
          -webkit-border-radius: 0.2rem;
          -moz-border-radius: 0.2rem;
          border-radius: 0.2rem;
          foreground-color: #859900;
        }
        pre { line-height: 125%; }
        td.linenos .normal { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
        span.linenos { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
        td.linenos .special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
        span.linenos.special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
        .highlight .hll { background-color: #ffffcc }
        .highlight { background: #f0f3f3; }
        .highlight .c { color: #408080; font-style: italic } /* Comment */
        .highlight .err { border: 1px solid #FF0000 } /* Error */
        .highlight .k { color: #008000; font-weight: bold } /* Keyword */
        .highlight .o { color: #666666 } /* Operator */
        .highlight .ch { color: #408080; font-style: italic } /* Comment.Hashbang */
        .highlight .cm { color: #408080; font-style: italic } /* Comment.Multiline */
        .highlight .cp { color: #BC7A00 } /* Comment.Preproc */
        .highlight .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
        .highlight .c1 { color: #408080; font-style: italic } /* Comment.Single */
        .highlight .cs { color: #408080; font-style: italic } /* Comment.Special */
        .highlight .gd { color: #A00000 } /* Generic.Deleted */
        .highlight .ge { font-style: italic } /* Generic.Emph */
        .highlight .gr { color: #FF0000 } /* Generic.Error */
        .highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
        .highlight .gi { color: #00A000 } /* Generic.Inserted */
        .highlight .go { color: #888888 } /* Generic.Output */
        .highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
        .highlight .gs { font-weight: bold } /* Generic.Strong */
        .highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
        .highlight .gt { color: #0044DD } /* Generic.Traceback */
        .highlight .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
        .highlight .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
        .highlight .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
        .highlight .kp { color: #008000 } /* Keyword.Pseudo */
        .highlight .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
        .highlight .kt { color: #B00040 } /* Keyword.Type */
        .highlight .m { color: #666666 } /* Literal.Number */
        .highlight .s { color: #BA2121 } /* Literal.String */
        .highlight .na { color: #7D9029 } /* Name.Attribute */
        .highlight .nb { color: #008000 } /* Name.Builtin */
        .highlight .nc { color: #0000FF; font-weight: bold } /* Name.Class */
        .highlight .no { color: #880000 } /* Name.Constant */
        .highlight .nd { color: #AA22FF } /* Name.Decorator */
        .highlight .ni { color: #999999; font-weight: bold } /* Name.Entity */
        .highlight .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
        .highlight .nf { color: #0000FF } /* Name.Function */
        .highlight .nl { color: #A0A000 } /* Name.Label */
        .highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
        .highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */
        .highlight .nv { color: #19177C } /* Name.Variable */
        .highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
        .highlight .w { color: #bbbbbb } /* Text.Whitespace */
        .highlight .mb { color: #666666 } /* Literal.Number.Bin */
        .highlight .mf { color: #666666 } /* Literal.Number.Float */
        .highlight .mh { color: #666666 } /* Literal.Number.Hex */
        .highlight .mi { color: #666666 } /* Literal.Number.Integer */
        .highlight .mo { color: #666666 } /* Literal.Number.Oct */
        .highlight .sa { color: #BA2121 } /* Literal.String.Affix */
        .highlight .sb { color: #BA2121 } /* Literal.String.Backtick */
        .highlight .sc { color: #BA2121 } /* Literal.String.Char */
        .highlight .dl { color: #BA2121 } /* Literal.String.Delimiter */
        .highlight .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
        .highlight .s2 { color: #BA2121 } /* Literal.String.Double */
        .highlight .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
        .highlight .sh { color: #BA2121 } /* Literal.String.Heredoc */
        .highlight .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
        .highlight .sx { color: #008000 } /* Literal.String.Other */
        .highlight .sr { color: #BB6688 } /* Literal.String.Regex */
        .highlight .s1 { color: #BA2121 } /* Literal.String.Single */
        .highlight .ss { color: #19177C } /* Literal.String.Symbol */
        .highlight .bp { color: #008000 } /* Name.Builtin.Pseudo */
        .highlight .fm { color: #0000FF } /* Name.Function.Magic */
        .highlight .vc { color: #19177C } /* Name.Variable.Class */
        .highlight .vg { color: #19177C } /* Name.Variable.Global */
        .highlight .vi { color: #19177C } /* Name.Variable.Instance */
        .highlight .vm { color: #19177C } /* Name.Variable.Magic */
        .highlight .il { color: #666666 } /* Literal.Number.Integer.Long */
    </style>
</head>
<body style="margin: 0">
<div style="text-align: center">
    <div style="font-size: 2rem; display: inline-block; margin-top: 0.25rem">
        <a href="./index.html" style="text-decoration: none; color: inherit">白季飞龙的个人主页</a>
    </div>
    <ul id="menu">
        <li>
            <a href="./tags/index.html">[标签]</a>
            <a href="./categories/index.html">[分类]</a>
        </li>
    </ul>
</div>
<hr>
<div style="margin: 0 auto; max-width: 1024px; font-size: 1.25em">
    <h1>iOS大杂烩</h1>
    <p>iOS是苹果公司开发的专用移动端操作系统，用于iPhone和iPad。iOS开发用到的主流编程语言是Objective-C。</p>
<h2>Hello Objective-C</h2>
<h3>Hello World</h3>
<h4>示例代码</h4>
<div class="highlight"><pre><span></span><span class="cp"># import &lt;Foundation/Foundation.h&gt;</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">argc</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">argv</span><span class="p">[])</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">@autoreleasepool</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;Hello, World!&quot;</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
<h4>控制台输出</h4>
<div class="highlight"><pre><span></span>2018-12-22 22:28:44.249 hellooc[1710:8656] Hello, World!
</pre></div>
<h4>要点</h4>
<ul>
<li><code>#import</code>不是<code>#include</code>，表示不重复包含</li>
<li><code>@autoreleeasepool</code> 表示自动垃圾回收</li>
<li><code>NSLog</code> 表示打印日志</li>
<li>字符串字面量必须前缀以<code>@</code>，表示NSString类型</li>
</ul>
<h3>面向对象的Objective-C</h3>
<h4>示例代码</h4>
<div class="highlight"><pre><span></span><span class="c1">//</span>
<span class="c1">//  main.m</span>
<span class="c1">//  hellooc</span>
<span class="c1">//</span>
<span class="c1">//  Created by bj on 2018-12-22.</span>
<span class="c1">//  Copyright © 2018 bj. All rights reserved.</span>
<span class="c1">//</span>

<span class="cp">#import &lt;Foundation/Foundation.h&gt;</span>

<span class="k">@interface</span> <span class="nc">MyColor</span> : <span class="bp">NSObject</span> <span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">red</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">green</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">blue</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="cm">/**</span>
<span class="cm"> * #Java: new MyColor(x, y, z)</span>
<span class="cm"> *</span>
<span class="cm"> * @param aRed</span>
<span class="cm"> * @param aGreen</span>
<span class="cm"> * @param aBlue</span>
<span class="cm"> * @return</span>
<span class="cm"> */</span><span class="w"></span>
<span class="p">-</span> <span class="p">(</span><span class="kt">instancetype</span><span class="p">)</span><span class="nf">initWithRed:</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="nv">aRed</span><span class="w"> </span><span class="nf">green:</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="nv">aGreen</span><span class="w"> </span><span class="nf">blue:</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="nv">aBlue</span><span class="p">;</span><span class="w"></span>

<span class="cm">/**</span>
<span class="cm"> * #Java: MyColor.newInstance(x, y, z)</span>
<span class="cm"> * @param aRed</span>
<span class="cm"> * @param aGreen</span>
<span class="cm"> * @param aBlue</span>
<span class="cm"> * @return</span>
<span class="cm"> */</span><span class="w"></span>
<span class="p">+</span> <span class="p">(</span><span class="kt">instancetype</span><span class="p">)</span><span class="nf">colorWithRed:</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="nv">aRed</span><span class="w"> </span><span class="nf">green:</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="nv">aGreen</span><span class="w"> </span><span class="nf">blue:</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="nv">aBlue</span><span class="p">;</span><span class="w"></span>


<span class="k">@end</span><span class="w"></span>

<span class="k">@implementation</span> <span class="nc">MyColor</span><span class="w"></span>

<span class="cm">/**</span>
<span class="cm"> * # Java: new MyColor()</span>
<span class="cm"> * @return</span>
<span class="cm"> */</span><span class="w"></span>
<span class="p">-</span> <span class="p">(</span><span class="kt">instancetype</span><span class="p">)</span><span class="nf">init</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nb">self</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="nb">super</span><span class="w"> </span><span class="n">init</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nb">self</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">red</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"></span>
<span class="w">        </span><span class="n">green</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span><span class="w"></span>
<span class="w">        </span><span class="n">blue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nb">self</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="p">-</span> <span class="p">(</span><span class="kt">instancetype</span><span class="p">)</span><span class="nf">initWithRed:</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="nv">aRed</span><span class="w"> </span><span class="nf">green:</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="nv">aGreen</span><span class="w"> </span><span class="nf">blue:</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="nv">aBlue</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nb">self</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="nb">super</span><span class="w"> </span><span class="n">init</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nb">self</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">red</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">aRed</span><span class="p">;</span><span class="w"></span>
<span class="w">        </span><span class="n">green</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">aGreen</span><span class="p">;</span><span class="w"></span>
<span class="w">        </span><span class="n">blue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">aBlue</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nb">self</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="p">+</span> <span class="p">(</span><span class="kt">instancetype</span><span class="p">)</span><span class="nf">colorWithRed:</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="nv">aRed</span><span class="w"> </span><span class="nf">green:</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="nv">aGreen</span><span class="w"> </span><span class="nf">blue:</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="nv">aBlue</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">[[</span><span class="nb">self</span><span class="w"> </span><span class="n">alloc</span><span class="p">]</span><span class="w"> </span><span class="nl">initWithRed</span><span class="p">:</span><span class="n">aRed</span><span class="w"> </span><span class="nl">green</span><span class="p">:</span><span class="n">aGreen</span><span class="w"> </span><span class="nl">blue</span><span class="p">:</span><span class="n">aBlue</span><span class="p">];</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>


<span class="cm">/**</span>
<span class="cm"> * #Java: toString()</span>
<span class="cm"> * @return</span>
<span class="cm"> */</span><span class="w"></span>
<span class="p">-</span> <span class="p">(</span><span class="bp">NSString</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="nf">description</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="bp">NSMutableString</span><span class="w"> </span><span class="o">*</span><span class="n">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="bp">NSMutableString</span><span class="w"> </span><span class="nl">stringWithFormat</span><span class="p">:</span><span class="s">@&quot;&lt;%@: &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">NSStringFromClass</span><span class="p">([</span><span class="nb">self</span><span class="w"> </span><span class="k">class</span><span class="p">])];</span><span class="w"></span>
<span class="w">    </span><span class="p">[</span><span class="n">description</span><span class="w"> </span><span class="nl">appendFormat</span><span class="p">:</span><span class="s">@&quot;red=%i&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">red</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="p">[</span><span class="n">description</span><span class="w"> </span><span class="nl">appendFormat</span><span class="p">:</span><span class="s">@&quot;, green=%i&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">green</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="p">[</span><span class="n">description</span><span class="w"> </span><span class="nl">appendFormat</span><span class="p">:</span><span class="s">@&quot;, blue=%i&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">blue</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="p">[</span><span class="n">description</span><span class="w"> </span><span class="nl">appendString</span><span class="p">:</span><span class="s">@&quot;&gt;&quot;</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">description</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="k">@end</span><span class="w"></span>

<span class="kt">int</span><span class="w"> </span><span class="n">main</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">argc</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">argv</span><span class="p">[])</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">@autoreleasepool</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">MyColor</span><span class="w"> </span><span class="o">*</span><span class="n">myColor</span><span class="p">;</span><span class="w"></span>

<span class="w">        </span><span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;Before initialization:&quot;</span><span class="p">);</span><span class="w"></span>
<span class="w">        </span><span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;myColor = %@&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">myColor</span><span class="p">);</span><span class="w"></span>

<span class="w">        </span><span class="n">myColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">MyColor</span><span class="w"> </span><span class="n">new</span><span class="p">];</span><span class="w"></span>
<span class="w">        </span><span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;After initialization of custom constructor:&quot;</span><span class="p">);</span><span class="w"></span>
<span class="w">        </span><span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;myColor = %@&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">myColor</span><span class="p">);</span><span class="w"></span>

<span class="w">        </span><span class="n">myColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[[</span><span class="n">MyColor</span><span class="w"> </span><span class="n">alloc</span><span class="p">]</span><span class="w"> </span><span class="nl">initWithRed</span><span class="p">:</span><span class="mi">0</span><span class="w"> </span><span class="nl">green</span><span class="p">:</span><span class="mi">255</span><span class="w"> </span><span class="nl">blue</span><span class="p">:</span><span class="mi">0</span><span class="p">];</span><span class="w"></span>
<span class="w">        </span><span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;Initialized with custom multiple-parameters constructor:&quot;</span><span class="p">);</span><span class="w"></span>
<span class="w">        </span><span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;myColor = %@&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">myColor</span><span class="p">);</span><span class="w"></span>

<span class="w">        </span><span class="n">myColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">MyColor</span><span class="w"> </span><span class="nl">colorWithRed</span><span class="p">:</span><span class="mi">111</span><span class="w"> </span><span class="nl">green</span><span class="p">:</span><span class="mi">111</span><span class="w"> </span><span class="nl">blue</span><span class="p">:</span><span class="mi">111</span><span class="p">];</span><span class="w"></span>
<span class="w">        </span><span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;Initialized with static method:&quot;</span><span class="p">);</span><span class="w"></span>
<span class="w">        </span><span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;myColor = %@&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">myColor</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
<h4>示例输出</h4>
<div class="highlight"><pre><span></span>2018-12-22 22:29:17.847 hellooc[1732:8941] Before initialization:
2018-12-22 22:29:17.847 hellooc[1732:8941] myColor = (null)
2018-12-22 22:29:17.847 hellooc[1732:8941] After initialization of custom constructor:
2018-12-22 22:29:17.847 hellooc[1732:8941] myColor = &lt;MyColor: red=1, green=2, blue=3&gt;
2018-12-22 22:29:17.847 hellooc[1732:8941] Initialized with custom multiple-parameters constructor:
2018-12-22 22:29:17.848 hellooc[1732:8941] myColor = &lt;MyColor: red=0, green=255, blue=0&gt;
2018-12-22 22:29:17.848 hellooc[1732:8941] Initialized with static method:
2018-12-22 22:29:17.848 hellooc[1732:8941] myColor = &lt;MyColor: red=111, green=111, blue=111&gt;
</pre></div>
<h4>要点</h4>
<ul>
<li>类的定义和实现必须分开写，可以写在同一个文件里</li>
<li>对象的初始化可以有两种写法，一种是<code>[[MyClass alloc] init]</code>，一种是简写<code>[MyClass new]</code></li>
<li>类可以重载init方法，实现自定义构造函数</li>
<li>类可以创建其他示例方法，在<code>alloc</code>之后调用它进行初始化</li>
<li>类可以创建静态方法，通过静态方法创建对象</li>
<li><code>NSLog</code>可以通过格式<code>%@</code>打印对象</li>
<li>类可以重载<code>description</code>方法，<code>%@</code>格式化对象的时候调用</li>
</ul>
<h2>Hello Cocoa</h2>
<h3>iOS应用的生命周期</h3>
<h4>测试代码 AppDelegate.m</h4>
<div class="highlight"><pre><span></span><span class="c1">//</span>
<span class="c1">//  AppDelegate.m</span>
<span class="c1">//  hellococoa</span>
<span class="c1">//</span>
<span class="c1">//  Created by bj on 2018-12-22.</span>
<span class="c1">//  Copyright © 2018 bj. All rights reserved.</span>
<span class="c1">//</span>

<span class="cp">#import &quot;AppDelegate.h&quot;</span>


<span class="k">@interface</span> <span class="nc">AppDelegate</span><span class="w"> </span><span class="p">()</span><span class="w"></span>

<span class="k">@end</span><span class="w"></span>

<span class="k">@implementation</span> <span class="nc">AppDelegate</span><span class="w"></span>


<span class="p">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">application:</span><span class="p">(</span><span class="bp">UIApplication</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="nv">application</span><span class="w"> </span><span class="nf">didFinishLaunchingWithOptions:</span><span class="p">(</span><span class="bp">NSDictionary</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="nv">launchOptions</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="c1">// Override point for customization after application launch.</span>
<span class="w">    </span><span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;[app] didFinishLaunchingWithOptions&quot;</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nb">YES</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>


<span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">applicationWillResignActive:</span><span class="p">(</span><span class="bp">UIApplication</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="nv">application</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="c1">// Sent when the application is about to move from active to inactive state. This can occur for certain types of temporary interruptions (such as an incoming phone call or SMS message) or when the user quits the application and it begins the transition to the background state.</span>
<span class="w">    </span><span class="c1">// Use this method to pause ongoing tasks, disable timers, and invalidate graphics rendering callbacks. Games should use this method to pause the game.</span>
<span class="w">    </span><span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;[app] applicationWillResignActive&quot;</span><span class="p">);</span><span class="w"></span>

<span class="p">}</span><span class="w"></span>


<span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">applicationDidEnterBackground:</span><span class="p">(</span><span class="bp">UIApplication</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="nv">application</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="c1">// Use this method to release shared resources, save user data, invalidate timers, and store enough application state information to restore your application to its current state in case it is terminated later.</span>
<span class="w">    </span><span class="c1">// If your application supports background execution, this method is called instead of applicationWillTerminate: when the user quits.</span>
<span class="w">    </span><span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;[app] applicationDidEnterBackground&quot;</span><span class="p">);</span><span class="w"></span>

<span class="p">}</span><span class="w"></span>


<span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">applicationWillEnterForeground:</span><span class="p">(</span><span class="bp">UIApplication</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="nv">application</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="c1">// Called as part of the transition from the background to the active state; here you can undo many of the changes made on entering the background.</span>
<span class="w">    </span><span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;[app] applicationWillEnterForeground&quot;</span><span class="p">);</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>


<span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">applicationDidBecomeActive:</span><span class="p">(</span><span class="bp">UIApplication</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="nv">application</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="c1">// Restart any tasks that were paused (or not yet started) while the application was inactive. If the application was previously in the background, optionally refresh the user interface.</span>
<span class="w">    </span><span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;[app] applicationDidBecomeActive&quot;</span><span class="p">);</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>


<span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">applicationWillTerminate:</span><span class="p">(</span><span class="bp">UIApplication</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="nv">application</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="c1">// Called when the application is about to terminate. Save data if appropriate. See also applicationDidEnterBackground:.</span>
<span class="w">    </span><span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;[app] applicationWillTerminate&quot;</span><span class="p">);</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>


<span class="k">@end</span><span class="w"></span>
</pre></div>
<h4>控制台输出</h4>
<p>用户操作流程: 打开应用 =&gt; 按Home回桌面 =&gt; 再次打开应用 =&gt; 双击Home弹出进程列表 =&gt; 划掉应用</p>
<div class="highlight"><pre><span></span>2018-12-22 23:32:30.685585+0800 hellococoa[2497:25432] libMobileGestalt MobileGestalt.c:890: MGIsDeviceOneOfType is not supported on this platform.
2018-12-22 23:32:30.730883+0800 hellococoa[2497:25432] [app] didFinishLaunchingWithOptions
2018-12-22 23:32:30.737519+0800 hellococoa[2497:25432] [app] applicationDidBecomeActive

2018-12-22 23:32:45.269746+0800 hellococoa[2497:25432] [app] applicationWillResignActive
2018-12-22 23:32:45.844597+0800 hellococoa[2497:25432] [app] applicationDidEnterBackground

2018-12-22 23:32:54.979323+0800 hellococoa[2497:25432] [app] applicationWillEnterForeground
2018-12-22 23:32:55.265910+0800 hellococoa[2497:25432] [app] applicationDidBecomeActive

2018-12-22 23:33:04.389439+0800 hellococoa[2497:25432] [app] applicationWillResignActive

2018-12-22 23:33:19.848464+0800 hellococoa[2497:25432] [app] applicationDidEnterBackground
2018-12-22 23:33:19.851948+0800 hellococoa[2497:25432] [app] applicationWillTerminate
</pre></div>
<h3>LaunchScreen与Main两个StoryBoard</h3>
<p>iOS项目默认有两个StoryBoard，一个叫<code>LaunchScreen.storyboard</code>，一个叫<code>Main.storyboard</code>。显然，LaunchScreen是开屏界面，Main是主界面。</p>
<p>启动App后，先显示LaunchScreen，然后渐变过度到Main。过度动画大约持续1秒</p>
<p>注意，XCode10的控件库的位置变了，XCode右上角有个专用的<code>Library</code>按钮。快捷键<code>Cmd+Shift+L</code></p>
<h3>移除StoryBoard</h3>
<h4>步骤:</h4>
<ol>
<li>直接删除两个StoryBoard文件</li>
<li>在项目属性(点击导航栏的项目名，进入项目属性页)的<code>General =&gt; Deployment Info</code> 下将<code>Main interface</code>置空(本质上是修改项目的plist文件)</li>
<li>修改<code>AppDelegate.m</code>，手动关联AppDelegate与ViewController</li>
</ol>
<h4>示例代码片段:</h4>
<div class="highlight"><pre><span></span><span class="p">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">application:</span><span class="p">(</span><span class="bp">UIApplication</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="nv">application</span><span class="w"> </span><span class="nf">didFinishLaunchingWithOptions:</span><span class="p">(</span><span class="bp">NSDictionary</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="nv">launchOptions</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nb">self</span><span class="p">.</span><span class="n">window</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="bp">UIWindow</span><span class="w"> </span><span class="n">new</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="nb">self</span><span class="p">.</span><span class="n">window</span><span class="p">.</span><span class="n">frame</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="bp">UIScreen</span><span class="p">.</span><span class="n">mainScreen</span><span class="p">.</span><span class="n">bounds</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="nb">self</span><span class="p">.</span><span class="n">window</span><span class="p">.</span><span class="n">backgroundColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="bp">UIColor</span><span class="w"> </span><span class="n">redColor</span><span class="p">];</span><span class="w"></span>

<span class="w">    </span><span class="n">ViewController</span><span class="w"> </span><span class="o">*</span><span class="n">viewController</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[[</span><span class="n">ViewController</span><span class="w"> </span><span class="n">alloc</span><span class="p">]</span><span class="w"> </span><span class="n">init</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="n">viewController</span><span class="p">.</span><span class="n">view</span><span class="p">.</span><span class="n">backgroundColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="bp">UIColor</span><span class="p">.</span><span class="n">redColor</span><span class="p">;</span><span class="w"></span>

<span class="w">    </span><span class="nb">self</span><span class="p">.</span><span class="n">window</span><span class="p">.</span><span class="n">rootViewController</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">viewController</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="p">[</span><span class="nb">self</span><span class="p">.</span><span class="n">window</span><span class="w"> </span><span class="n">makeKeyAndVisible</span><span class="p">];</span><span class="w"></span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nb">YES</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
<h4>注意</h4>
<ul>
<li>如果打开app还有显示StoryBoard的内容。在模拟器里卸载掉app重试</li>
<li><code>AppDelegate</code>的根Window必须有ViewController，否则报错:  <code>Terminating app due to uncaught exception 'NSInternalInconsistencyException', reason: 'Application windows are expected to have a root view controller at the end of application launch'</code></li>
</ul>
<h3>单文件iOS应用</h3>
<h4>示例代码</h4>
<div class="highlight"><pre><span></span><span class="c1">//</span>
<span class="c1">//  main.m</span>
<span class="c1">//  hellococoa</span>
<span class="c1">//</span>
<span class="c1">//  Created by bj on 2018-12-22.</span>
<span class="c1">//  Copyright © 2018 bj. All rights reserved.</span>
<span class="c1">//</span>

<span class="cp">#import &lt;UIKit/UIKit.h&gt;</span>

<span class="k">@interface</span> <span class="nc">MyViewController</span> : <span class="bp">UIViewController</span><span class="w"></span>
<span class="k">@end</span><span class="w"></span>

<span class="k">@implementation</span> <span class="nc">MyViewController</span><span class="w"></span>
<span class="k">@end</span><span class="w"></span>

<span class="k">@interface</span> <span class="nc">MyAppDelegate</span> : <span class="bp">UIResponder</span><span class="w"> </span><span class="o">&lt;</span><span class="bp">UIApplicationDelegate</span><span class="o">&gt;</span><span class="w"></span>
<span class="k">@property</span><span class="p">(</span><span class="k">nonatomic</span><span class="p">)</span><span class="w"> </span><span class="bp">UIWindow</span><span class="w"> </span><span class="o">*</span><span class="n">window</span><span class="p">;</span><span class="w"></span>
<span class="k">@end</span><span class="w"></span>

<span class="k">@implementation</span> <span class="nc">MyAppDelegate</span><span class="w"></span>
<span class="p">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">application:</span><span class="p">(</span><span class="bp">UIApplication</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="nv">application</span><span class="w"> </span><span class="nf">didFinishLaunchingWithOptions:</span><span class="p">(</span><span class="n">nullable</span><span class="w"> </span><span class="bp">NSDictionary</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="nv">launchOptions</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="c1">// 1. Create window</span>
<span class="w">    </span><span class="nb">self</span><span class="p">.</span><span class="n">window</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[[</span><span class="bp">UIWindow</span><span class="w"> </span><span class="n">alloc</span><span class="p">]</span><span class="w"> </span><span class="n">init</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="nb">self</span><span class="p">.</span><span class="n">window</span><span class="p">.</span><span class="n">frame</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="bp">UIScreen</span><span class="p">.</span><span class="n">mainScreen</span><span class="p">.</span><span class="n">bounds</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="nb">self</span><span class="p">.</span><span class="n">window</span><span class="p">.</span><span class="n">backgroundColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="bp">UIColor</span><span class="w"> </span><span class="n">magentaColor</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="c1">// 2. Bind window to ViewController</span>
<span class="w">    </span><span class="nb">self</span><span class="p">.</span><span class="n">window</span><span class="p">.</span><span class="n">rootViewController</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[[</span><span class="n">MyViewController</span><span class="w"> </span><span class="n">alloc</span><span class="p">]</span><span class="w"> </span><span class="n">init</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="c1">// 3. Show window</span>
<span class="w">    </span><span class="p">[</span><span class="nb">self</span><span class="p">.</span><span class="n">window</span><span class="w"> </span><span class="n">makeKeyAndVisible</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nb">YES</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
<span class="k">@end</span><span class="w"></span>

<span class="kt">int</span><span class="w"> </span><span class="n">main</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">argc</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">argv</span><span class="p">[])</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">@autoreleasepool</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">UIApplicationMain</span><span class="p">(</span><span class="n">argc</span><span class="p">,</span><span class="w"> </span><span class="n">argv</span><span class="p">,</span><span class="w"> </span><span class="nb">nil</span><span class="p">,</span><span class="w"> </span><span class="n">NSStringFromClass</span><span class="p">([</span><span class="n">MyAppDelegate</span><span class="w"> </span><span class="k">class</span><span class="p">]));</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
<h3>iOS布局</h3>
<p>演示: 将屏幕水平均分为两块，这两块的间距和他们相对于屏幕边缘的边距都为10</p>
<h4>1. 使用官方的约束布局</h4>
<h5>示例代码</h5>
<div class="highlight"><pre><span></span><span class="c1">//</span>
<span class="c1">//  main.m</span>
<span class="c1">//  hellococoa</span>
<span class="c1">//</span>
<span class="c1">//  Created by bj on 2018-12-22.</span>
<span class="c1">//  Copyright © 2018 bj. All rights reserved.</span>
<span class="c1">//</span>

<span class="cp">#import &lt;UIKit/UIKit.h&gt;</span>

<span class="k">@interface</span> <span class="nc">MyViewController</span> : <span class="bp">UIViewController</span><span class="w"></span>
<span class="k">@end</span><span class="w"></span>

<span class="k">@implementation</span> <span class="nc">MyViewController</span><span class="w"></span>
<span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">loadView</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="p">[</span><span class="nb">super</span><span class="w"> </span><span class="n">loadView</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="nb">self</span><span class="p">.</span><span class="n">view</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[[</span><span class="bp">UIView</span><span class="w"> </span><span class="n">alloc</span><span class="p">]</span><span class="w"> </span><span class="n">init</span><span class="p">];</span><span class="w"></span>

<span class="w">    </span><span class="bp">UIView</span><span class="w"> </span><span class="o">*</span><span class="n">leftView</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[[</span><span class="bp">UIView</span><span class="w"> </span><span class="n">alloc</span><span class="p">]</span><span class="w"> </span><span class="n">init</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="bp">UIView</span><span class="w"> </span><span class="o">*</span><span class="n">rightView</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[[</span><span class="bp">UIView</span><span class="w"> </span><span class="n">alloc</span><span class="p">]</span><span class="w"> </span><span class="n">init</span><span class="p">];</span><span class="w"></span>

<span class="w">    </span><span class="n">leftView</span><span class="p">.</span><span class="n">backgroundColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="bp">UIColor</span><span class="w"> </span><span class="n">magentaColor</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="n">rightView</span><span class="p">.</span><span class="n">backgroundColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="bp">UIColor</span><span class="w"> </span><span class="n">purpleColor</span><span class="p">];</span><span class="w"></span>

<span class="w">    </span><span class="n">leftView</span><span class="p">.</span><span class="n">translatesAutoresizingMaskIntoConstraints</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NO</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">rightView</span><span class="p">.</span><span class="n">translatesAutoresizingMaskIntoConstraints</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NO</span><span class="p">;</span><span class="w"></span>

<span class="w">    </span><span class="p">[</span><span class="nb">self</span><span class="p">.</span><span class="n">view</span><span class="w"> </span><span class="nl">addSubview</span><span class="p">:</span><span class="n">leftView</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="p">[</span><span class="nb">self</span><span class="p">.</span><span class="n">view</span><span class="w"> </span><span class="nl">addSubview</span><span class="p">:</span><span class="n">rightView</span><span class="p">];</span><span class="w"></span>

<span class="w">    </span><span class="p">[</span><span class="nb">self</span><span class="p">.</span><span class="n">view</span><span class="w"> </span><span class="nl">addConstraints</span><span class="p">:</span><span class="l">@[</span><span class="w"></span>
<span class="w">            </span><span class="c1">// 固定左布局的上、左、下边界</span>
<span class="w">            </span><span class="p">[</span><span class="bp">NSLayoutConstraint</span><span class="w"> </span><span class="nl">constraintWithItem</span><span class="p">:</span><span class="n">leftView</span><span class="w"> </span><span class="nl">attribute</span><span class="p">:</span><span class="n">NSLayoutAttributeTop</span><span class="w"> </span><span class="nl">relatedBy</span><span class="p">:</span><span class="n">NSLayoutRelationEqual</span><span class="w"> </span><span class="nl">toItem</span><span class="p">:</span><span class="nb">self</span><span class="p">.</span><span class="n">view</span><span class="w"> </span><span class="nl">attribute</span><span class="p">:</span><span class="n">NSLayoutAttributeTop</span><span class="w"> </span><span class="nl">multiplier</span><span class="p">:</span><span class="mf">1.0</span><span class="w"> </span><span class="nl">constant</span><span class="p">:</span><span class="mi">10</span><span class="p">],</span><span class="w"></span>
<span class="w">            </span><span class="p">[</span><span class="bp">NSLayoutConstraint</span><span class="w"> </span><span class="nl">constraintWithItem</span><span class="p">:</span><span class="n">leftView</span><span class="w"> </span><span class="nl">attribute</span><span class="p">:</span><span class="n">NSLayoutAttributeLeft</span><span class="w"> </span><span class="nl">relatedBy</span><span class="p">:</span><span class="n">NSLayoutRelationEqual</span><span class="w"> </span><span class="nl">toItem</span><span class="p">:</span><span class="nb">self</span><span class="p">.</span><span class="n">view</span><span class="w"> </span><span class="nl">attribute</span><span class="p">:</span><span class="n">NSLayoutAttributeLeft</span><span class="w"> </span><span class="nl">multiplier</span><span class="p">:</span><span class="mf">1.0</span><span class="w"> </span><span class="nl">constant</span><span class="p">:</span><span class="mi">10</span><span class="p">],</span><span class="w"></span>
<span class="w">            </span><span class="p">[</span><span class="bp">NSLayoutConstraint</span><span class="w"> </span><span class="nl">constraintWithItem</span><span class="p">:</span><span class="n">leftView</span><span class="w"> </span><span class="nl">attribute</span><span class="p">:</span><span class="n">NSLayoutAttributeBottom</span><span class="w"> </span><span class="nl">relatedBy</span><span class="p">:</span><span class="n">NSLayoutRelationEqual</span><span class="w"> </span><span class="nl">toItem</span><span class="p">:</span><span class="nb">self</span><span class="p">.</span><span class="n">view</span><span class="w"> </span><span class="nl">attribute</span><span class="p">:</span><span class="n">NSLayoutAttributeBottom</span><span class="w"> </span><span class="nl">multiplier</span><span class="p">:</span><span class="mf">1.0</span><span class="w"> </span><span class="nl">constant</span><span class="p">:</span><span class="mi">-10</span><span class="p">],</span><span class="w"></span>
<span class="w">            </span><span class="c1">// 固定右布局的上、右、下边界</span>
<span class="w">            </span><span class="p">[</span><span class="bp">NSLayoutConstraint</span><span class="w"> </span><span class="nl">constraintWithItem</span><span class="p">:</span><span class="n">rightView</span><span class="w"> </span><span class="nl">attribute</span><span class="p">:</span><span class="n">NSLayoutAttributeTop</span><span class="w"> </span><span class="nl">relatedBy</span><span class="p">:</span><span class="n">NSLayoutRelationEqual</span><span class="w"> </span><span class="nl">toItem</span><span class="p">:</span><span class="nb">self</span><span class="p">.</span><span class="n">view</span><span class="w"> </span><span class="nl">attribute</span><span class="p">:</span><span class="n">NSLayoutAttributeTop</span><span class="w"> </span><span class="nl">multiplier</span><span class="p">:</span><span class="mf">1.0</span><span class="w"> </span><span class="nl">constant</span><span class="p">:</span><span class="mi">10</span><span class="p">],</span><span class="w"></span>
<span class="w">            </span><span class="p">[</span><span class="bp">NSLayoutConstraint</span><span class="w"> </span><span class="nl">constraintWithItem</span><span class="p">:</span><span class="n">rightView</span><span class="w"> </span><span class="nl">attribute</span><span class="p">:</span><span class="n">NSLayoutAttributeRight</span><span class="w"> </span><span class="nl">relatedBy</span><span class="p">:</span><span class="n">NSLayoutRelationEqual</span><span class="w"> </span><span class="nl">toItem</span><span class="p">:</span><span class="nb">self</span><span class="p">.</span><span class="n">view</span><span class="w"> </span><span class="nl">attribute</span><span class="p">:</span><span class="n">NSLayoutAttributeRight</span><span class="w"> </span><span class="nl">multiplier</span><span class="p">:</span><span class="mf">1.0</span><span class="w"> </span><span class="nl">constant</span><span class="p">:</span><span class="mi">-10</span><span class="p">],</span><span class="w"></span>
<span class="w">            </span><span class="p">[</span><span class="bp">NSLayoutConstraint</span><span class="w"> </span><span class="nl">constraintWithItem</span><span class="p">:</span><span class="n">rightView</span><span class="w"> </span><span class="nl">attribute</span><span class="p">:</span><span class="n">NSLayoutAttributeBottom</span><span class="w"> </span><span class="nl">relatedBy</span><span class="p">:</span><span class="n">NSLayoutRelationEqual</span><span class="w"> </span><span class="nl">toItem</span><span class="p">:</span><span class="nb">self</span><span class="p">.</span><span class="n">view</span><span class="w"> </span><span class="nl">attribute</span><span class="p">:</span><span class="n">NSLayoutAttributeBottom</span><span class="w"> </span><span class="nl">multiplier</span><span class="p">:</span><span class="mf">1.0</span><span class="w"> </span><span class="nl">constant</span><span class="p">:</span><span class="mi">-10</span><span class="p">],</span><span class="w"></span>
<span class="w">            </span><span class="c1">// 确定左、右布局的相对位置</span>
<span class="w">            </span><span class="p">[</span><span class="bp">NSLayoutConstraint</span><span class="w"> </span><span class="nl">constraintWithItem</span><span class="p">:</span><span class="n">rightView</span><span class="w"> </span><span class="nl">attribute</span><span class="p">:</span><span class="n">NSLayoutAttributeLeft</span><span class="w"> </span><span class="nl">relatedBy</span><span class="p">:</span><span class="n">NSLayoutRelationEqual</span><span class="w"> </span><span class="nl">toItem</span><span class="p">:</span><span class="n">leftView</span><span class="w"> </span><span class="nl">attribute</span><span class="p">:</span><span class="n">NSLayoutAttributeRight</span><span class="w"> </span><span class="nl">multiplier</span><span class="p">:</span><span class="mf">1.0</span><span class="w"> </span><span class="nl">constant</span><span class="p">:</span><span class="mi">10</span><span class="p">],</span><span class="w"></span>
<span class="w">            </span><span class="c1">// 确定左、右布局的相对大小</span>
<span class="w">            </span><span class="p">[</span><span class="bp">NSLayoutConstraint</span><span class="w"> </span><span class="nl">constraintWithItem</span><span class="p">:</span><span class="n">rightView</span><span class="w"> </span><span class="nl">attribute</span><span class="p">:</span><span class="n">NSLayoutAttributeWidth</span><span class="w"> </span><span class="nl">relatedBy</span><span class="p">:</span><span class="n">NSLayoutRelationEqual</span><span class="w"> </span><span class="nl">toItem</span><span class="p">:</span><span class="n">leftView</span><span class="w"> </span><span class="nl">attribute</span><span class="p">:</span><span class="n">NSLayoutAttributeWidth</span><span class="w"> </span><span class="nl">multiplier</span><span class="p">:</span><span class="mf">1.0</span><span class="w"> </span><span class="nl">constant</span><span class="p">:</span><span class="mi">0</span><span class="p">]</span><span class="w"></span>
<span class="w">    </span><span class="l">]</span><span class="p">];</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="k">@end</span><span class="w"></span>

<span class="k">@interface</span> <span class="nc">MyAppDelegate</span> : <span class="bp">UIResponder</span><span class="w"> </span><span class="o">&lt;</span><span class="bp">UIApplicationDelegate</span><span class="o">&gt;</span><span class="w"></span>
<span class="k">@property</span><span class="p">(</span><span class="k">nonatomic</span><span class="p">)</span><span class="w"> </span><span class="bp">UIWindow</span><span class="w"> </span><span class="o">*</span><span class="n">window</span><span class="p">;</span><span class="w"></span>
<span class="k">@end</span><span class="w"></span>

<span class="k">@implementation</span> <span class="nc">MyAppDelegate</span><span class="w"></span>
<span class="p">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">application:</span><span class="p">(</span><span class="bp">UIApplication</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="nv">application</span><span class="w"> </span><span class="nf">didFinishLaunchingWithOptions:</span><span class="p">(</span><span class="n">nullable</span><span class="w"> </span><span class="bp">NSDictionary</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="nv">launchOptions</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="c1">// 1. Create window</span>
<span class="w">    </span><span class="nb">self</span><span class="p">.</span><span class="n">window</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[[</span><span class="bp">UIWindow</span><span class="w"> </span><span class="n">alloc</span><span class="p">]</span><span class="w"> </span><span class="n">init</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="nb">self</span><span class="p">.</span><span class="n">window</span><span class="p">.</span><span class="n">frame</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="bp">UIScreen</span><span class="p">.</span><span class="n">mainScreen</span><span class="p">.</span><span class="n">bounds</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="nb">self</span><span class="p">.</span><span class="n">window</span><span class="p">.</span><span class="n">backgroundColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="bp">UIColor</span><span class="w"> </span><span class="n">grayColor</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="c1">// 2. Bind window to ViewController</span>
<span class="w">    </span><span class="nb">self</span><span class="p">.</span><span class="n">window</span><span class="p">.</span><span class="n">rootViewController</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[[</span><span class="n">MyViewController</span><span class="w"> </span><span class="n">alloc</span><span class="p">]</span><span class="w"> </span><span class="n">init</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="c1">// 3. Show window</span>
<span class="w">    </span><span class="p">[</span><span class="nb">self</span><span class="p">.</span><span class="n">window</span><span class="w"> </span><span class="n">makeKeyAndVisible</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nb">YES</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
<span class="k">@end</span><span class="w"></span>

<span class="kt">int</span><span class="w"> </span><span class="n">main</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">argc</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">argv</span><span class="p">[])</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">@autoreleasepool</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;%@&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">NSStringFromClass</span><span class="p">([</span><span class="n">MyAppDelegate</span><span class="w"> </span><span class="k">class</span><span class="p">]));</span><span class="w"></span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">UIApplicationMain</span><span class="p">(</span><span class="n">argc</span><span class="p">,</span><span class="w"> </span><span class="n">argv</span><span class="p">,</span><span class="w"> </span><span class="nb">nil</span><span class="p">,</span><span class="w"> </span><span class="n">NSStringFromClass</span><span class="p">([</span><span class="n">MyAppDelegate</span><span class="w"> </span><span class="k">class</span><span class="p">]));</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
<h5>注意:</h5>
<ul>
<li><code>UIView.translatesAutoresizingMaskIntoConstraints</code> 必须设定为NO，否则报异常: 约束不能同时满足</li>
<li>约束主要包括子视图相对父视图的位置和大小、子视图之间的相对位置和相对大小</li>
<li>理论上，约束条件能够确定所有视图的位置和大小，即可布局成功</li>
</ul>
<h4>2. 使用官方的VFL布局</h4>
<p>VFL: Visual Format Lanuguage</p>
<h5>示例代码</h5>
<div class="highlight"><pre><span></span><span class="c1">//</span>
<span class="c1">//  main.m</span>
<span class="c1">//  hellococoa</span>
<span class="c1">//</span>
<span class="c1">//  Created by bj on 2018-12-22.</span>
<span class="c1">//  Copyright © 2018 bj. All rights reserved.</span>
<span class="c1">//</span>

<span class="cp">#import &lt;UIKit/UIKit.h&gt;</span>

<span class="k">@interface</span> <span class="nc">MyViewController</span> : <span class="bp">UIViewController</span><span class="w"></span>
<span class="k">@end</span><span class="w"></span>

<span class="k">@implementation</span> <span class="nc">MyViewController</span><span class="w"></span>
<span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">loadView</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="p">[</span><span class="nb">super</span><span class="w"> </span><span class="n">loadView</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="nb">self</span><span class="p">.</span><span class="n">view</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[[</span><span class="bp">UIView</span><span class="w"> </span><span class="n">alloc</span><span class="p">]</span><span class="w"> </span><span class="n">init</span><span class="p">];</span><span class="w"></span>

<span class="w">    </span><span class="bp">UIView</span><span class="w"> </span><span class="o">*</span><span class="n">leftView</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[[</span><span class="bp">UIView</span><span class="w"> </span><span class="n">alloc</span><span class="p">]</span><span class="w"> </span><span class="n">init</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="bp">UIView</span><span class="w"> </span><span class="o">*</span><span class="n">rightView</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[[</span><span class="bp">UIView</span><span class="w"> </span><span class="n">alloc</span><span class="p">]</span><span class="w"> </span><span class="n">init</span><span class="p">];</span><span class="w"></span>

<span class="w">    </span><span class="n">leftView</span><span class="p">.</span><span class="n">backgroundColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="bp">UIColor</span><span class="w"> </span><span class="n">magentaColor</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="n">rightView</span><span class="p">.</span><span class="n">backgroundColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="bp">UIColor</span><span class="w"> </span><span class="n">purpleColor</span><span class="p">];</span><span class="w"></span>

<span class="w">    </span><span class="n">leftView</span><span class="p">.</span><span class="n">translatesAutoresizingMaskIntoConstraints</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NO</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">rightView</span><span class="p">.</span><span class="n">translatesAutoresizingMaskIntoConstraints</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NO</span><span class="p">;</span><span class="w"></span>

<span class="w">    </span><span class="p">[</span><span class="nb">self</span><span class="p">.</span><span class="n">view</span><span class="w"> </span><span class="nl">addSubview</span><span class="p">:</span><span class="n">leftView</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="p">[</span><span class="nb">self</span><span class="p">.</span><span class="n">view</span><span class="w"> </span><span class="nl">addSubview</span><span class="p">:</span><span class="n">rightView</span><span class="p">];</span><span class="w"></span>

<span class="w">    </span><span class="bp">NSDictionary</span><span class="w"> </span><span class="o">*</span><span class="n">metrics</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="l">@{</span><span class="s">@&quot;space&quot;</span><span class="o">:</span><span class="w"> </span><span class="mi">@10</span><span class="l">}</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="bp">NSDictionary</span><span class="w"> </span><span class="o">*</span><span class="n">views</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">NSDictionaryOfVariableBindings</span><span class="p">(</span><span class="n">leftView</span><span class="p">,</span><span class="w"> </span><span class="n">rightView</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="p">[</span><span class="nb">self</span><span class="p">.</span><span class="n">view</span><span class="w"> </span><span class="nl">addConstraints</span><span class="p">:[</span><span class="bp">NSLayoutConstraint</span><span class="w"></span>
<span class="w">            </span><span class="nl">constraintsWithVisualFormat</span><span class="p">:</span><span class="s">@&quot;H:|-space-[leftView]-[rightView(==leftView)]-space-|&quot;</span><span class="w"></span>
<span class="w">                                </span><span class="nl">options</span><span class="p">:</span><span class="nb">nil</span><span class="w"></span>
<span class="w">                                </span><span class="nl">metrics</span><span class="p">:</span><span class="n">metrics</span><span class="w"></span>
<span class="w">                                  </span><span class="nl">views</span><span class="p">:</span><span class="n">views</span><span class="p">]];</span><span class="w"></span>
<span class="w">    </span><span class="p">[</span><span class="nb">self</span><span class="p">.</span><span class="n">view</span><span class="w"> </span><span class="nl">addConstraints</span><span class="p">:[</span><span class="bp">NSLayoutConstraint</span><span class="w"></span>
<span class="w">            </span><span class="nl">constraintsWithVisualFormat</span><span class="p">:</span><span class="s">@&quot;V:|-space-[leftView]-space-|&quot;</span><span class="w"></span>
<span class="w">                                </span><span class="nl">options</span><span class="p">:</span><span class="nb">nil</span><span class="w"></span>
<span class="w">                                </span><span class="nl">metrics</span><span class="p">:</span><span class="n">metrics</span><span class="w"></span>
<span class="w">                                  </span><span class="nl">views</span><span class="p">:</span><span class="n">views</span><span class="p">]];</span><span class="w"></span>
<span class="w">    </span><span class="p">[</span><span class="nb">self</span><span class="p">.</span><span class="n">view</span><span class="w"> </span><span class="nl">addConstraints</span><span class="p">:[</span><span class="bp">NSLayoutConstraint</span><span class="w"></span>
<span class="w">            </span><span class="nl">constraintsWithVisualFormat</span><span class="p">:</span><span class="s">@&quot;V:|-space-[rightView]-space-|&quot;</span><span class="w"></span>
<span class="w">                                </span><span class="nl">options</span><span class="p">:</span><span class="nb">nil</span><span class="w"></span>
<span class="w">                                </span><span class="nl">metrics</span><span class="p">:</span><span class="n">metrics</span><span class="w"></span>
<span class="w">                                  </span><span class="nl">views</span><span class="p">:</span><span class="n">views</span><span class="p">]];</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="k">@end</span><span class="w"></span>

<span class="k">@interface</span> <span class="nc">MyAppDelegate</span> : <span class="bp">UIResponder</span><span class="w"> </span><span class="o">&lt;</span><span class="bp">UIApplicationDelegate</span><span class="o">&gt;</span><span class="w"></span>
<span class="k">@property</span><span class="p">(</span><span class="k">nonatomic</span><span class="p">)</span><span class="w"> </span><span class="bp">UIWindow</span><span class="w"> </span><span class="o">*</span><span class="n">window</span><span class="p">;</span><span class="w"></span>
<span class="k">@end</span><span class="w"></span>

<span class="k">@implementation</span> <span class="nc">MyAppDelegate</span><span class="w"></span>
<span class="p">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">application:</span><span class="p">(</span><span class="bp">UIApplication</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="nv">application</span><span class="w"> </span><span class="nf">didFinishLaunchingWithOptions:</span><span class="p">(</span><span class="n">nullable</span><span class="w"> </span><span class="bp">NSDictionary</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="nv">launchOptions</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="c1">// 1. Create window</span>
<span class="w">    </span><span class="nb">self</span><span class="p">.</span><span class="n">window</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[[</span><span class="bp">UIWindow</span><span class="w"> </span><span class="n">alloc</span><span class="p">]</span><span class="w"> </span><span class="n">init</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="nb">self</span><span class="p">.</span><span class="n">window</span><span class="p">.</span><span class="n">frame</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="bp">UIScreen</span><span class="p">.</span><span class="n">mainScreen</span><span class="p">.</span><span class="n">bounds</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="nb">self</span><span class="p">.</span><span class="n">window</span><span class="p">.</span><span class="n">backgroundColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="bp">UIColor</span><span class="w"> </span><span class="n">grayColor</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="c1">// 2. Bind window to ViewController</span>
<span class="w">    </span><span class="nb">self</span><span class="p">.</span><span class="n">window</span><span class="p">.</span><span class="n">rootViewController</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[[</span><span class="n">MyViewController</span><span class="w"> </span><span class="n">alloc</span><span class="p">]</span><span class="w"> </span><span class="n">init</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="c1">// 3. Show window</span>
<span class="w">    </span><span class="p">[</span><span class="nb">self</span><span class="p">.</span><span class="n">window</span><span class="w"> </span><span class="n">makeKeyAndVisible</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nb">YES</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
<span class="k">@end</span><span class="w"></span>

<span class="kt">int</span><span class="w"> </span><span class="n">main</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">argc</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">argv</span><span class="p">[])</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">@autoreleasepool</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;%@&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">NSStringFromClass</span><span class="p">([</span><span class="n">MyAppDelegate</span><span class="w"> </span><span class="k">class</span><span class="p">]));</span><span class="w"></span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">UIApplicationMain</span><span class="p">(</span><span class="n">argc</span><span class="p">,</span><span class="w"> </span><span class="n">argv</span><span class="p">,</span><span class="w"> </span><span class="nb">nil</span><span class="p">,</span><span class="w"> </span><span class="n">NSStringFromClass</span><span class="p">([</span><span class="n">MyAppDelegate</span><span class="w"> </span><span class="k">class</span><span class="p">]));</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
<h5>注意:</h5>
<ul>
<li>约束一定要全，要能唯一确定子视图的位置和大小</li>
<li>每一个子视图一定要在垂直方向和水平方向至少出现一次</li>
</ul>
<h4>3. 使用AutoLayout的封装库Masonry进行布局</h4>
<p>Mansonry是对AutoLayout的封装，可以通过CocoaPods安装</p>
<h5>示例代码</h5>
<div class="highlight"><pre><span></span><span class="c1">//</span>
<span class="c1">//  main.m</span>
<span class="c1">//  hellococoa</span>
<span class="c1">//</span>
<span class="c1">//  Created by bj on 2018-12-22.</span>
<span class="c1">//  Copyright © 2018 bj. All rights reserved.</span>
<span class="c1">//</span>

<span class="cp">#import &lt;UIKit/UIKit.h&gt;</span>
<span class="cp">#import &lt;Masonry/View+MASAdditions.h&gt;</span>

<span class="k">@interface</span> <span class="nc">MyViewController</span> : <span class="bp">UIViewController</span><span class="w"></span>
<span class="k">@end</span><span class="w"></span>

<span class="k">@implementation</span> <span class="nc">MyViewController</span><span class="w"></span>
<span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">loadView</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="p">[</span><span class="nb">super</span><span class="w"> </span><span class="n">loadView</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="nb">self</span><span class="p">.</span><span class="n">view</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[[</span><span class="bp">UIView</span><span class="w"> </span><span class="n">alloc</span><span class="p">]</span><span class="w"> </span><span class="n">init</span><span class="p">];</span><span class="w"></span>

<span class="w">    </span><span class="bp">UIView</span><span class="w"> </span><span class="o">*</span><span class="n">leftView</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[[</span><span class="bp">UIView</span><span class="w"> </span><span class="n">alloc</span><span class="p">]</span><span class="w"> </span><span class="n">init</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="bp">UIView</span><span class="w"> </span><span class="o">*</span><span class="n">rightView</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[[</span><span class="bp">UIView</span><span class="w"> </span><span class="n">alloc</span><span class="p">]</span><span class="w"> </span><span class="n">init</span><span class="p">];</span><span class="w"></span>

<span class="w">    </span><span class="n">leftView</span><span class="p">.</span><span class="n">backgroundColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="bp">UIColor</span><span class="w"> </span><span class="n">magentaColor</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="n">rightView</span><span class="p">.</span><span class="n">backgroundColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="bp">UIColor</span><span class="w"> </span><span class="n">purpleColor</span><span class="p">];</span><span class="w"></span>

<span class="w">    </span><span class="n">leftView</span><span class="p">.</span><span class="n">translatesAutoresizingMaskIntoConstraints</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NO</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">rightView</span><span class="p">.</span><span class="n">translatesAutoresizingMaskIntoConstraints</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NO</span><span class="p">;</span><span class="w"></span>

<span class="w">    </span><span class="p">[</span><span class="nb">self</span><span class="p">.</span><span class="n">view</span><span class="w"> </span><span class="nl">addSubview</span><span class="p">:</span><span class="n">leftView</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="p">[</span><span class="nb">self</span><span class="p">.</span><span class="n">view</span><span class="w"> </span><span class="nl">addSubview</span><span class="p">:</span><span class="n">rightView</span><span class="p">];</span><span class="w"></span>

<span class="w">    </span><span class="c1">// 左布局相对于父布局</span>
<span class="w">    </span><span class="p">[</span><span class="n">leftView</span><span class="w"> </span><span class="nl">mas_makeConstraints</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">MASConstraintMaker</span><span class="w"> </span><span class="o">*</span><span class="n">make</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">make</span><span class="p">.</span><span class="n">top</span><span class="p">.</span><span class="n">equalTo</span><span class="p">(</span><span class="nb">self</span><span class="p">.</span><span class="n">view</span><span class="p">.</span><span class="n">mas_top</span><span class="p">).</span><span class="n">with</span><span class="p">.</span><span class="n">offset</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span><span class="w"></span>
<span class="w">        </span><span class="n">make</span><span class="p">.</span><span class="n">left</span><span class="p">.</span><span class="n">equalTo</span><span class="p">(</span><span class="nb">self</span><span class="p">.</span><span class="n">view</span><span class="p">.</span><span class="n">mas_left</span><span class="p">).</span><span class="n">with</span><span class="p">.</span><span class="n">offset</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span><span class="w"></span>
<span class="w">        </span><span class="n">make</span><span class="p">.</span><span class="n">bottom</span><span class="p">.</span><span class="n">equalTo</span><span class="p">(</span><span class="nb">self</span><span class="p">.</span><span class="n">view</span><span class="p">.</span><span class="n">mas_bottom</span><span class="p">).</span><span class="n">with</span><span class="p">.</span><span class="n">offset</span><span class="p">(</span><span class="mi">-10</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="p">}];</span><span class="w"></span>

<span class="w">    </span><span class="c1">// 右布局相对于父布局</span>
<span class="w">    </span><span class="p">[</span><span class="n">rightView</span><span class="w"> </span><span class="nl">mas_makeConstraints</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">MASConstraintMaker</span><span class="w"> </span><span class="o">*</span><span class="n">make</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">make</span><span class="p">.</span><span class="n">top</span><span class="p">.</span><span class="n">equalTo</span><span class="p">(</span><span class="nb">self</span><span class="p">.</span><span class="n">view</span><span class="p">.</span><span class="n">mas_top</span><span class="p">).</span><span class="n">with</span><span class="p">.</span><span class="n">offset</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span><span class="w"></span>
<span class="w">        </span><span class="n">make</span><span class="p">.</span><span class="n">right</span><span class="p">.</span><span class="n">equalTo</span><span class="p">(</span><span class="nb">self</span><span class="p">.</span><span class="n">view</span><span class="p">.</span><span class="n">mas_right</span><span class="p">).</span><span class="n">with</span><span class="p">.</span><span class="n">offset</span><span class="p">(</span><span class="mi">-10</span><span class="p">);</span><span class="w"></span>
<span class="w">        </span><span class="n">make</span><span class="p">.</span><span class="n">bottom</span><span class="p">.</span><span class="n">equalTo</span><span class="p">(</span><span class="nb">self</span><span class="p">.</span><span class="n">view</span><span class="p">.</span><span class="n">mas_bottom</span><span class="p">).</span><span class="n">with</span><span class="p">.</span><span class="n">offset</span><span class="p">(</span><span class="mi">-10</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="p">}];</span><span class="w"></span>

<span class="w">    </span><span class="c1">// 右布局相对于左布局</span>
<span class="w">    </span><span class="p">[</span><span class="n">rightView</span><span class="w"> </span><span class="nl">mas_makeConstraints</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">MASConstraintMaker</span><span class="w"> </span><span class="o">*</span><span class="n">make</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">make</span><span class="p">.</span><span class="n">left</span><span class="p">.</span><span class="n">equalTo</span><span class="p">(</span><span class="n">leftView</span><span class="p">.</span><span class="n">mas_right</span><span class="p">).</span><span class="n">with</span><span class="p">.</span><span class="n">offset</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span><span class="w"></span>
<span class="w">        </span><span class="n">make</span><span class="p">.</span><span class="n">width</span><span class="p">.</span><span class="n">equalTo</span><span class="p">(</span><span class="n">leftView</span><span class="p">.</span><span class="n">mas_width</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="p">}];</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="k">@end</span><span class="w"></span>

<span class="k">@interface</span> <span class="nc">MyAppDelegate</span> : <span class="bp">UIResponder</span><span class="w"> </span><span class="o">&lt;</span><span class="bp">UIApplicationDelegate</span><span class="o">&gt;</span><span class="w"></span>
<span class="k">@property</span><span class="p">(</span><span class="k">nonatomic</span><span class="p">)</span><span class="w"> </span><span class="bp">UIWindow</span><span class="w"> </span><span class="o">*</span><span class="n">window</span><span class="p">;</span><span class="w"></span>
<span class="k">@end</span><span class="w"></span>

<span class="k">@implementation</span> <span class="nc">MyAppDelegate</span><span class="w"></span>
<span class="p">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">application:</span><span class="p">(</span><span class="bp">UIApplication</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="nv">application</span><span class="w"> </span><span class="nf">didFinishLaunchingWithOptions:</span><span class="p">(</span><span class="n">nullable</span><span class="w"> </span><span class="bp">NSDictionary</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="nv">launchOptions</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nb">self</span><span class="p">.</span><span class="n">window</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[[</span><span class="bp">UIWindow</span><span class="w"> </span><span class="n">alloc</span><span class="p">]</span><span class="w"> </span><span class="n">init</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="nb">self</span><span class="p">.</span><span class="n">window</span><span class="p">.</span><span class="n">frame</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="bp">UIScreen</span><span class="p">.</span><span class="n">mainScreen</span><span class="p">.</span><span class="n">bounds</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="nb">self</span><span class="p">.</span><span class="n">window</span><span class="p">.</span><span class="n">backgroundColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="bp">UIColor</span><span class="w"> </span><span class="n">grayColor</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="nb">self</span><span class="p">.</span><span class="n">window</span><span class="p">.</span><span class="n">rootViewController</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[[</span><span class="n">MyViewController</span><span class="w"> </span><span class="n">alloc</span><span class="p">]</span><span class="w"> </span><span class="n">init</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="p">[</span><span class="nb">self</span><span class="p">.</span><span class="n">window</span><span class="w"> </span><span class="n">makeKeyAndVisible</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nb">YES</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
<span class="k">@end</span><span class="w"></span>

<span class="kt">int</span><span class="w"> </span><span class="n">main</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">argc</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">argv</span><span class="p">[])</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">@autoreleasepool</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;%@&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">NSStringFromClass</span><span class="p">([</span><span class="n">MyAppDelegate</span><span class="w"> </span><span class="k">class</span><span class="p">]));</span><span class="w"></span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">UIApplicationMain</span><span class="p">(</span><span class="n">argc</span><span class="p">,</span><span class="w"> </span><span class="n">argv</span><span class="p">,</span><span class="w"> </span><span class="nb">nil</span><span class="p">,</span><span class="w"> </span><span class="n">NSStringFromClass</span><span class="p">([</span><span class="n">MyAppDelegate</span><span class="w"> </span><span class="k">class</span><span class="p">]));</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
<h4>4. Flex布局</h4>
<p>iOS可以通过第三方库<a href="https://github.com/facebook/yoga/tree/master/YogaKit">YogaKit</a>实现Flex布局</p>
<h5>示例代码</h5>
<div class="highlight"><pre><span></span><span class="c1">//</span>
<span class="c1">//  main.m</span>
<span class="c1">//  hellococoa</span>
<span class="c1">//</span>
<span class="c1">//  Created by bj on 2018-12-22.</span>
<span class="c1">//  Copyright © 2018 bj. All rights reserved.</span>
<span class="c1">//</span>

<span class="cp">#import &lt;UIKit/UIKit.h&gt;</span>
<span class="cp">#import &lt;YogaKit/UIView+Yoga.h&gt;</span>

<span class="k">@interface</span> <span class="nc">MyViewController</span> : <span class="bp">UIViewController</span><span class="w"></span>
<span class="k">@end</span><span class="w"></span>

<span class="k">@implementation</span> <span class="nc">MyViewController</span><span class="w"></span>
<span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">viewDidLoad</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="bp">UIView</span><span class="w"> </span><span class="o">*</span><span class="n">root</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">self</span><span class="p">.</span><span class="n">view</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">root</span><span class="p">.</span><span class="n">backgroundColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="bp">UIColor</span><span class="w"> </span><span class="n">redColor</span><span class="p">];</span><span class="w"></span>

<span class="w">    </span><span class="n">root</span><span class="p">.</span><span class="n">yoga</span><span class="p">.</span><span class="n">isEnabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">YES</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">root</span><span class="p">.</span><span class="n">yoga</span><span class="p">.</span><span class="n">flexDirection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">YGFlexDirectionRow</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">root</span><span class="p">.</span><span class="n">yoga</span><span class="p">.</span><span class="n">justifyContent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">YGJustifyCenter</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">root</span><span class="p">.</span><span class="n">yoga</span><span class="p">.</span><span class="n">alignItems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">YGAlignStretch</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">root</span><span class="p">.</span><span class="n">yoga</span><span class="p">.</span><span class="n">padding</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">YGPointValue</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span><span class="w"></span>

<span class="w">    </span><span class="bp">UIView</span><span class="w"> </span><span class="o">*</span><span class="n">leftView</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="bp">UIView</span><span class="w"> </span><span class="n">new</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="n">leftView</span><span class="p">.</span><span class="n">yoga</span><span class="p">.</span><span class="n">isEnabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">YES</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">leftView</span><span class="p">.</span><span class="n">yoga</span><span class="p">.</span><span class="n">flexGrow</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1.0</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">leftView</span><span class="p">.</span><span class="n">backgroundColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="bp">UIColor</span><span class="w"> </span><span class="n">blueColor</span><span class="p">];</span><span class="w"></span>

<span class="w">    </span><span class="bp">UIView</span><span class="w"> </span><span class="o">*</span><span class="n">rightView</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="bp">UIView</span><span class="w"> </span><span class="n">new</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="n">rightView</span><span class="p">.</span><span class="n">yoga</span><span class="p">.</span><span class="n">isEnabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">YES</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">rightView</span><span class="p">.</span><span class="n">yoga</span><span class="p">.</span><span class="n">flexGrow</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1.0</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">rightView</span><span class="p">.</span><span class="n">yoga</span><span class="p">.</span><span class="n">marginLeft</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">YGPointValue</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="n">rightView</span><span class="p">.</span><span class="n">backgroundColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="bp">UIColor</span><span class="w"> </span><span class="n">greenColor</span><span class="p">];</span><span class="w"></span>

<span class="w">    </span><span class="p">[</span><span class="n">root</span><span class="w"> </span><span class="nl">addSubview</span><span class="p">:</span><span class="n">leftView</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="p">[</span><span class="n">root</span><span class="w"> </span><span class="nl">addSubview</span><span class="p">:</span><span class="n">rightView</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="p">[</span><span class="n">root</span><span class="p">.</span><span class="n">yoga</span><span class="w"> </span><span class="nl">applyLayoutPreservingOrigin</span><span class="p">:</span><span class="nb">NO</span><span class="p">];</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
<span class="k">@end</span><span class="w"></span>

<span class="k">@interface</span> <span class="nc">MyAppDelegate</span> : <span class="bp">UIResponder</span><span class="w"> </span><span class="o">&lt;</span><span class="bp">UIApplicationDelegate</span><span class="o">&gt;</span><span class="w"></span>
<span class="k">@property</span><span class="p">(</span><span class="k">nonatomic</span><span class="p">)</span><span class="w"> </span><span class="bp">UIWindow</span><span class="w"> </span><span class="o">*</span><span class="n">window</span><span class="p">;</span><span class="w"></span>
<span class="k">@end</span><span class="w"></span>

<span class="k">@implementation</span> <span class="nc">MyAppDelegate</span><span class="w"></span>
<span class="p">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">application:</span><span class="p">(</span><span class="bp">UIApplication</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="nv">application</span><span class="w"> </span><span class="nf">didFinishLaunchingWithOptions:</span><span class="p">(</span><span class="n">nullable</span><span class="w"> </span><span class="bp">NSDictionary</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="nv">launchOptions</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nb">self</span><span class="p">.</span><span class="n">window</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[[</span><span class="bp">UIWindow</span><span class="w"> </span><span class="n">alloc</span><span class="p">]</span><span class="w"> </span><span class="n">init</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="nb">self</span><span class="p">.</span><span class="n">window</span><span class="p">.</span><span class="n">frame</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="bp">UIScreen</span><span class="p">.</span><span class="n">mainScreen</span><span class="p">.</span><span class="n">bounds</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="nb">self</span><span class="p">.</span><span class="n">window</span><span class="p">.</span><span class="n">backgroundColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="bp">UIColor</span><span class="w"> </span><span class="n">grayColor</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="nb">self</span><span class="p">.</span><span class="n">window</span><span class="p">.</span><span class="n">rootViewController</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[[</span><span class="n">MyViewController</span><span class="w"> </span><span class="n">alloc</span><span class="p">]</span><span class="w"> </span><span class="n">init</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="p">[</span><span class="nb">self</span><span class="p">.</span><span class="n">window</span><span class="w"> </span><span class="n">makeKeyAndVisible</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nb">YES</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
<span class="k">@end</span><span class="w"></span>

<span class="kt">int</span><span class="w"> </span><span class="n">main</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">argc</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">argv</span><span class="p">[])</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">@autoreleasepool</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;%@&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">NSStringFromClass</span><span class="p">([</span><span class="n">MyAppDelegate</span><span class="w"> </span><span class="k">class</span><span class="p">]));</span><span class="w"></span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">UIApplicationMain</span><span class="p">(</span><span class="n">argc</span><span class="p">,</span><span class="w"> </span><span class="n">argv</span><span class="p">,</span><span class="w"> </span><span class="nb">nil</span><span class="p">,</span><span class="w"> </span><span class="n">NSStringFromClass</span><span class="p">([</span><span class="n">MyAppDelegate</span><span class="w"> </span><span class="k">class</span><span class="p">]));</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
<h5>注意</h5>
<ul>
<li>需要调用<code>.yoga.isEnabled</code>启用Flex布局</li>
<li>必须调用<code>-[YGLayout applyLayoutPreservingOrigin:]</code>并设为NO</li>
<li><code>YogaKit</code>是Swift库，必须动态链接，需要在Podfile种设置<code>use_frameworks!</code></li>
</ul>
<h2>CocoaPods的安装与使用</h2>
<p>CocoaPods是Objective-C的依赖管理工具</p>
<h3>安装CocoaPods</h3>
<p>CocoaPods是用<code>Ruby</code>写的，需要通过<code>gem</code>安装</p>
<p><code>gem install cocoapods</code></p>
<p>注意:</p>
<ul>
<li>如果使用的是系统<code>gem</code>，需要使用<code>sudo install cocoapods</code></li>
<li>CocoaPods需要克隆整个依赖仓库，目前大约需要下载600MB的内容</li>
</ul>
<h3>使用CocoaPods</h3>
<ol>
<li><code>pod init</code> 初始化CocoaPods项目</li>
<li><code>vim Podfile</code> 编辑项目依赖</li>
<li><code>pod install</code> 安装项目依赖</li>
<li><code>open App.xcworkspace</code> 使用CocoaPods创建的工作空间重新打开项目</li>
</ol>
<h3>示例Podfile</h3>
<div class="highlight"><pre><span></span><span class="c1"># Uncomment the next line to define a global platform for your project</span>
<span class="c1"># platform :ios, &#39;9.0&#39;</span>

<span class="n">target</span> <span class="s1">&#39;hellococoa&#39;</span> <span class="k">do</span>
  <span class="c1"># Uncomment the next line if you&#39;re using Swift or would like to use dynamic frameworks</span>
  <span class="c1"># use_frameworks!</span>

  <span class="c1"># Pods for hellococoa</span>
  <span class="n">pod</span> <span class="s1">&#39;AFNetworking&#39;</span><span class="p">,</span> <span class="s1">&#39;~&gt; 2.6&#39;</span>
  <span class="n">pod</span> <span class="s1">&#39;Masonry&#39;</span>

  <span class="n">target</span> <span class="s1">&#39;hellococoaTests&#39;</span> <span class="k">do</span>
    <span class="n">inherit!</span> <span class="ss">:search_paths</span>
    <span class="c1"># Pods for testing</span>
  <span class="k">end</span>

  <span class="n">target</span> <span class="s1">&#39;hellococoaUITests&#39;</span> <span class="k">do</span>
    <span class="n">inherit!</span> <span class="ss">:search_paths</span>
    <span class="c1"># Pods for testing</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>
<h2>Toast</h2>
<p>iOS没有内置类似Android的Toast，需要自己定义或使用第三方库<a href="https://github.com/scalessec/Toast">Toast</a></p>
<p>安装方式: <code>pod 'Toast', '~&gt; 4.0.0'</code></p>
<h3>示例代码</h3>
<div class="highlight"><pre><span></span><span class="c1">//</span>
<span class="c1">//  main.m</span>
<span class="c1">//  hellococoa</span>
<span class="c1">//</span>
<span class="c1">//  Created by bj on 2018-12-22.</span>
<span class="c1">//  Copyright © 2018 bj. All rights reserved.</span>
<span class="c1">//</span>

<span class="cp">#import &lt;UIKit/UIKit.h&gt;</span>
<span class="cp">#import &lt;YogaKit/UIView+Yoga.h&gt;</span>
<span class="cp">#import &lt;Toast/UIView+Toast.h&gt;</span>

<span class="k">@interface</span> <span class="nc">MyViewController</span> : <span class="bp">UIViewController</span><span class="w"></span>
<span class="k">@end</span><span class="w"></span>

<span class="k">@implementation</span> <span class="nc">MyViewController</span><span class="w"></span>
<span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">viewDidLoad</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="bp">UIView</span><span class="w"> </span><span class="o">*</span><span class="n">root</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">self</span><span class="p">.</span><span class="n">view</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">root</span><span class="p">.</span><span class="n">backgroundColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="bp">UIColor</span><span class="w"> </span><span class="n">cyanColor</span><span class="p">];</span><span class="w"></span>

<span class="w">    </span><span class="n">root</span><span class="p">.</span><span class="n">yoga</span><span class="p">.</span><span class="n">isEnabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">YES</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">root</span><span class="p">.</span><span class="n">yoga</span><span class="p">.</span><span class="n">flexDirection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">YGFlexDirectionRow</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">root</span><span class="p">.</span><span class="n">yoga</span><span class="p">.</span><span class="n">justifyContent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">YGJustifyCenter</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">root</span><span class="p">.</span><span class="n">yoga</span><span class="p">.</span><span class="n">alignItems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">YGAlignCenter</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">root</span><span class="p">.</span><span class="n">yoga</span><span class="p">.</span><span class="n">padding</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">YGPointValue</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span><span class="w"></span>

<span class="w">    </span><span class="bp">UIButton</span><span class="w"> </span><span class="o">*</span><span class="n">button</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="bp">UIButton</span><span class="w"> </span><span class="n">new</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="n">button</span><span class="p">.</span><span class="n">backgroundColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="bp">UIColor</span><span class="w"> </span><span class="n">blueColor</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="p">[</span><span class="n">button</span><span class="w"> </span><span class="nl">setTitle</span><span class="p">:</span><span class="s">@&quot;Click Me&quot;</span><span class="w"> </span><span class="nl">forState</span><span class="p">:</span><span class="n">UIControlStateNormal</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="n">button</span><span class="p">.</span><span class="n">yoga</span><span class="p">.</span><span class="n">isEnabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">YES</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">button</span><span class="p">.</span><span class="n">yoga</span><span class="p">.</span><span class="n">flexGrow</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="p">[</span><span class="n">button</span><span class="w"> </span><span class="nl">addTarget</span><span class="p">:</span><span class="nb">self</span><span class="w"> </span><span class="nl">action</span><span class="p">:</span><span class="k">@selector</span><span class="p">(</span><span class="n">onClicked</span><span class="p">)</span><span class="w"> </span><span class="nl">forControlEvents</span><span class="p">:</span><span class="n">UIControlEventTouchUpInside</span><span class="p">];</span><span class="w"></span>

<span class="w">    </span><span class="p">[</span><span class="n">root</span><span class="w"> </span><span class="nl">addSubview</span><span class="p">:</span><span class="n">button</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="p">[</span><span class="n">root</span><span class="p">.</span><span class="n">yoga</span><span class="w"> </span><span class="nl">applyLayoutPreservingOrigin</span><span class="p">:</span><span class="nb">NO</span><span class="p">];</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">onClicked</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="p">[</span><span class="nb">self</span><span class="p">.</span><span class="n">view</span><span class="w"> </span><span class="nl">makeToast</span><span class="p">:</span><span class="s">@&quot;Hello World&quot;</span><span class="w"> </span><span class="nl">duration</span><span class="p">:</span><span class="mi">1</span><span class="w"> </span><span class="nl">position</span><span class="p">:</span><span class="n">CSToastPositionBottom</span><span class="p">];</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="k">@end</span><span class="w"></span>

<span class="k">@interface</span> <span class="nc">MyAppDelegate</span> : <span class="bp">UIResponder</span><span class="w"> </span><span class="o">&lt;</span><span class="bp">UIApplicationDelegate</span><span class="o">&gt;</span><span class="w"></span>
<span class="k">@property</span><span class="p">(</span><span class="k">nonatomic</span><span class="p">)</span><span class="w"> </span><span class="bp">UIWindow</span><span class="w"> </span><span class="o">*</span><span class="n">window</span><span class="p">;</span><span class="w"></span>
<span class="k">@end</span><span class="w"></span>

<span class="k">@implementation</span> <span class="nc">MyAppDelegate</span><span class="w"></span>
<span class="p">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">application:</span><span class="p">(</span><span class="bp">UIApplication</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="nv">application</span><span class="w"> </span><span class="nf">didFinishLaunchingWithOptions:</span><span class="p">(</span><span class="n">nullable</span><span class="w"> </span><span class="bp">NSDictionary</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="nv">launchOptions</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nb">self</span><span class="p">.</span><span class="n">window</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[[</span><span class="bp">UIWindow</span><span class="w"> </span><span class="n">alloc</span><span class="p">]</span><span class="w"> </span><span class="n">init</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="nb">self</span><span class="p">.</span><span class="n">window</span><span class="p">.</span><span class="n">frame</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="bp">UIScreen</span><span class="p">.</span><span class="n">mainScreen</span><span class="p">.</span><span class="n">bounds</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="nb">self</span><span class="p">.</span><span class="n">window</span><span class="p">.</span><span class="n">backgroundColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="bp">UIColor</span><span class="w"> </span><span class="n">grayColor</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="nb">self</span><span class="p">.</span><span class="n">window</span><span class="p">.</span><span class="n">rootViewController</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[[</span><span class="n">MyViewController</span><span class="w"> </span><span class="n">alloc</span><span class="p">]</span><span class="w"> </span><span class="n">init</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="p">[</span><span class="nb">self</span><span class="p">.</span><span class="n">window</span><span class="w"> </span><span class="n">makeKeyAndVisible</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nb">YES</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
<span class="k">@end</span><span class="w"></span>

<span class="kt">int</span><span class="w"> </span><span class="n">main</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">argc</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">argv</span><span class="p">[])</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">@autoreleasepool</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;%@&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">NSStringFromClass</span><span class="p">([</span><span class="n">MyAppDelegate</span><span class="w"> </span><span class="k">class</span><span class="p">]));</span><span class="w"></span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">UIApplicationMain</span><span class="p">(</span><span class="n">argc</span><span class="p">,</span><span class="w"> </span><span class="n">argv</span><span class="p">,</span><span class="w"> </span><span class="nb">nil</span><span class="p">,</span><span class="w"> </span><span class="n">NSStringFromClass</span><span class="p">([</span><span class="n">MyAppDelegate</span><span class="w"> </span><span class="k">class</span><span class="p">]));</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
<h2>UITableView</h2>
<h3>示例代码</h3>
<div class="highlight"><pre><span></span><span class="c1">//</span>
<span class="c1">//  main.m</span>
<span class="c1">//  hellococoa</span>
<span class="c1">//</span>
<span class="c1">//  Created by bj on 2018-12-22.</span>
<span class="c1">//  Copyright © 2018 bj. All rights reserved.</span>
<span class="c1">//</span>

<span class="cp">#import &lt;UIKit/UIKit.h&gt;</span>
<span class="cp">#import &lt;YogaKit/UIView+Yoga.h&gt;</span>
<span class="cp">#import &lt;Toast/UIView+Toast.h&gt;</span>

<span class="k">@interface</span> <span class="nc">MyViewController</span> : <span class="bp">UIViewController</span><span class="w"> </span><span class="o">&lt;</span><span class="bp">UITableViewDelegate</span><span class="p">,</span><span class="w"> </span><span class="bp">UITableViewDataSource</span><span class="o">&gt;</span><span class="w"></span>
<span class="k">@end</span><span class="w"></span>

<span class="k">@implementation</span> <span class="nc">MyViewController</span><span class="w"></span>
<span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">viewDidLoad</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="bp">UIView</span><span class="w"> </span><span class="o">*</span><span class="n">root</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">self</span><span class="p">.</span><span class="n">view</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">root</span><span class="p">.</span><span class="n">backgroundColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="bp">UIColor</span><span class="w"> </span><span class="n">cyanColor</span><span class="p">];</span><span class="w"></span>

<span class="w">    </span><span class="n">root</span><span class="p">.</span><span class="n">yoga</span><span class="p">.</span><span class="n">isEnabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">YES</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">root</span><span class="p">.</span><span class="n">yoga</span><span class="p">.</span><span class="n">flexDirection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">YGFlexDirectionColumn</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">root</span><span class="p">.</span><span class="n">yoga</span><span class="p">.</span><span class="n">justifyContent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">YGJustifyCenter</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">root</span><span class="p">.</span><span class="n">yoga</span><span class="p">.</span><span class="n">alignItems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">YGAlignStretch</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">root</span><span class="p">.</span><span class="n">yoga</span><span class="p">.</span><span class="n">padding</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">YGPointValue</span><span class="p">(</span><span class="mi">50</span><span class="p">);</span><span class="w"></span>

<span class="w">    </span><span class="bp">UILabel</span><span class="w"> </span><span class="o">*</span><span class="n">label</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="bp">UILabel</span><span class="w"> </span><span class="n">new</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="n">label</span><span class="p">.</span><span class="n">text</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">@&quot;UITableView Demo&quot;</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">label</span><span class="p">.</span><span class="n">textAlignment</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">NSTextAlignmentCenter</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">label</span><span class="p">.</span><span class="n">textColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="bp">UIColor</span><span class="w"> </span><span class="n">whiteColor</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="n">label</span><span class="p">.</span><span class="n">backgroundColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="bp">UIColor</span><span class="w"> </span><span class="n">blueColor</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="n">label</span><span class="p">.</span><span class="n">yoga</span><span class="p">.</span><span class="n">isEnabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">YES</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">label</span><span class="p">.</span><span class="n">yoga</span><span class="p">.</span><span class="n">flexGrow</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">label</span><span class="p">.</span><span class="n">yoga</span><span class="p">.</span><span class="n">padding</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">YGPointValue</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span><span class="w"></span>

<span class="w">    </span><span class="bp">UITableView</span><span class="w"> </span><span class="o">*</span><span class="n">tableView</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="bp">UITableView</span><span class="w"> </span><span class="n">new</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="n">tableView</span><span class="p">.</span><span class="n">yoga</span><span class="p">.</span><span class="n">isEnabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">YES</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">tableView</span><span class="p">.</span><span class="n">yoga</span><span class="p">.</span><span class="n">flexGrow</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">tableView</span><span class="p">.</span><span class="n">delegate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">self</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">tableView</span><span class="p">.</span><span class="n">dataSource</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">self</span><span class="p">;</span><span class="w"></span>

<span class="w">    </span><span class="p">[</span><span class="n">root</span><span class="w"> </span><span class="nl">addSubview</span><span class="p">:</span><span class="n">label</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="p">[</span><span class="n">root</span><span class="w"> </span><span class="nl">addSubview</span><span class="p">:</span><span class="n">tableView</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="p">[</span><span class="n">root</span><span class="p">.</span><span class="n">yoga</span><span class="w"> </span><span class="nl">applyLayoutPreservingOrigin</span><span class="p">:</span><span class="nb">NO</span><span class="p">];</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="p">-</span> <span class="p">(</span><span class="n">NSInteger</span><span class="p">)</span><span class="nf">tableView:</span><span class="p">(</span><span class="bp">UITableView</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="nv">tableView</span><span class="w"> </span><span class="nf">numberOfRowsInSection:</span><span class="p">(</span><span class="n">NSInteger</span><span class="p">)</span><span class="nv">section</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">100</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="p">-</span> <span class="p">(</span><span class="bp">UITableViewCell</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="nf">tableView:</span><span class="p">(</span><span class="bp">UITableView</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="nv">tableView</span><span class="w"> </span><span class="nf">cellForRowAtIndexPath:</span><span class="p">(</span><span class="bp">NSIndexPath</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="nv">indexPath</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="bp">UITableViewCell</span><span class="w"> </span><span class="o">*</span><span class="n">cell</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">tableView</span><span class="w"> </span><span class="nl">dequeueReusableCellWithIdentifier</span><span class="p">:</span><span class="s">@&quot;my-id&quot;</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">cell</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">nil</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;Creating item: %ld&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">indexPath</span><span class="p">.</span><span class="n">item</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span><span class="w"></span>
<span class="w">        </span><span class="n">cell</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[[</span><span class="bp">UITableViewCell</span><span class="w"> </span><span class="n">alloc</span><span class="p">]</span><span class="w"> </span><span class="nl">initWithStyle</span><span class="p">:</span><span class="n">UITableViewCellStyleDefault</span><span class="w"> </span><span class="nl">reuseIdentifier</span><span class="p">:</span><span class="s">@&quot;my-id&quot;</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="n">cell</span><span class="p">.</span><span class="n">textLabel</span><span class="p">.</span><span class="n">text</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="bp">NSString</span><span class="w"> </span><span class="nl">stringWithFormat</span><span class="p">:</span><span class="s">@&quot;Item %ld&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">indexPath</span><span class="p">.</span><span class="n">item</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">cell</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">tableView:</span><span class="p">(</span><span class="bp">UITableView</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="nv">tableView</span><span class="w"> </span><span class="nf">didSelectRowAtIndexPath:</span><span class="p">(</span><span class="bp">NSIndexPath</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="nv">indexPath</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="p">[</span><span class="nb">self</span><span class="p">.</span><span class="n">view</span><span class="w"> </span><span class="nl">makeToast</span><span class="p">:[</span><span class="bp">NSString</span><span class="w"> </span><span class="nl">stringWithFormat</span><span class="p">:</span><span class="s">@&quot;You tapped item %ld&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">indexPath</span><span class="p">.</span><span class="n">item</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="nl">duration</span><span class="p">:</span><span class="mf">0.1</span><span class="w"> </span><span class="nl">position</span><span class="p">:</span><span class="n">CSToastPositionBottom</span><span class="p">];</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="k">@end</span><span class="w"></span>

<span class="k">@interface</span> <span class="nc">MyAppDelegate</span> : <span class="bp">UIResponder</span><span class="w"> </span><span class="o">&lt;</span><span class="bp">UIApplicationDelegate</span><span class="o">&gt;</span><span class="w"></span>
<span class="k">@property</span><span class="p">(</span><span class="k">nonatomic</span><span class="p">)</span><span class="w"> </span><span class="bp">UIWindow</span><span class="w"> </span><span class="o">*</span><span class="n">window</span><span class="p">;</span><span class="w"></span>
<span class="k">@end</span><span class="w"></span>

<span class="k">@implementation</span> <span class="nc">MyAppDelegate</span><span class="w"></span>
<span class="p">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">application:</span><span class="p">(</span><span class="bp">UIApplication</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="nv">application</span><span class="w"> </span><span class="nf">didFinishLaunchingWithOptions:</span><span class="p">(</span><span class="n">nullable</span><span class="w"> </span><span class="bp">NSDictionary</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="nv">launchOptions</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nb">self</span><span class="p">.</span><span class="n">window</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[[</span><span class="bp">UIWindow</span><span class="w"> </span><span class="n">alloc</span><span class="p">]</span><span class="w"> </span><span class="n">init</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="nb">self</span><span class="p">.</span><span class="n">window</span><span class="p">.</span><span class="n">frame</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="bp">UIScreen</span><span class="p">.</span><span class="n">mainScreen</span><span class="p">.</span><span class="n">bounds</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="nb">self</span><span class="p">.</span><span class="n">window</span><span class="p">.</span><span class="n">backgroundColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="bp">UIColor</span><span class="w"> </span><span class="n">grayColor</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="nb">self</span><span class="p">.</span><span class="n">window</span><span class="p">.</span><span class="n">rootViewController</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[[</span><span class="n">MyViewController</span><span class="w"> </span><span class="n">alloc</span><span class="p">]</span><span class="w"> </span><span class="n">init</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="p">[</span><span class="nb">self</span><span class="p">.</span><span class="n">window</span><span class="w"> </span><span class="n">makeKeyAndVisible</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nb">YES</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
<span class="k">@end</span><span class="w"></span>

<span class="kt">int</span><span class="w"> </span><span class="n">main</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">argc</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">argv</span><span class="p">[])</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">@autoreleasepool</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;%@&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">NSStringFromClass</span><span class="p">([</span><span class="n">MyAppDelegate</span><span class="w"> </span><span class="k">class</span><span class="p">]));</span><span class="w"></span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">UIApplicationMain</span><span class="p">(</span><span class="n">argc</span><span class="p">,</span><span class="w"> </span><span class="n">argv</span><span class="p">,</span><span class="w"> </span><span class="nb">nil</span><span class="p">,</span><span class="w"> </span><span class="n">NSStringFromClass</span><span class="p">([</span><span class="n">MyAppDelegate</span><span class="w"> </span><span class="k">class</span><span class="p">]));</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
<h3>示例控制台输出</h3>
<div class="highlight"><pre><span></span>2018-12-23 17:29:19.772025+0800 hellococoa[22269:296737] MyAppDelegate
2018-12-23 17:29:19.794322+0800 hellococoa[22269:296737] libMobileGestalt MobileGestalt.c:890: MGIsDeviceOneOfType is not supported on this platform.
2018-12-23 17:29:19.860195+0800 hellococoa[22269:296737] Creating item: 1
2018-12-23 17:29:19.862716+0800 hellococoa[22269:296737] Creating item: 2
2018-12-23 17:29:19.863633+0800 hellococoa[22269:296737] Creating item: 3
2018-12-23 17:29:19.864310+0800 hellococoa[22269:296737] Creating item: 4
2018-12-23 17:29:19.864963+0800 hellococoa[22269:296737] Creating item: 5
2018-12-23 17:29:19.865550+0800 hellococoa[22269:296737] Creating item: 6
2018-12-23 17:29:19.866112+0800 hellococoa[22269:296737] Creating item: 7
2018-12-23 17:29:19.866662+0800 hellococoa[22269:296737] Creating item: 8
2018-12-23 17:29:19.867207+0800 hellococoa[22269:296737] Creating item: 9
2018-12-23 17:29:19.867728+0800 hellococoa[22269:296737] Creating item: 10
2018-12-23 17:29:19.868293+0800 hellococoa[22269:296737] Creating item: 11
2018-12-23 17:29:25.746864+0800 hellococoa[22269:296737] Creating item: 12
2018-12-23 17:29:33.371258+0800 hellococoa[22269:296737] Creating item: 79
</pre></div>
<h3>截图</h3>
<p><img src="https://raw.githubusercontent.com/baijifeilong/resources/master/ios/table.png" alt="UITableView" /></p>
<h3>注意</h3>
<ul>
<li>使用UITableView需要让ViewController实现俩协议: <code>UITableViewDataSource</code>和<code>UITableViewDelegate</code></li>
<li><code>UITableViewDataSource</code> 必选，控制渲染逻辑</li>
<li><code>UITableViewDelegate</code> 可选，控制事件</li>
<li><code>-[MyViewController tableView:numberOfRowsInSection:]</code> 确定表行数</li>
<li><code>-[MyViewController tableView:didSelectRowAtIndexPath:]</code> 渲染表单元格</li>
<li>一般情况下，需要在渲染逻辑里服用单元格对象，减小系统创建对象的开销。实际对性能可能没什么影响。</li>
<li>单元格对象复用主要通过两个方法: <code>-[UITableViewCell initWithStyle:reuseIdentifier:]</code>(储存) 和 <code>-[UITableView dequeueReusableCellWithIdentifier:]</code>(获取)</li>
<li>NSInteger是8字节的整数(Long Decimal)，格式化需要使用格式<code>%ld</code></li>
</ul>
<p>文章首发: <a href="https://baijifeilong.github.io">https://baijifeilong.github.io</a></p>

</div>
<div id="disqus_thread"></div>
<hr>
<div style='text-align: right; font-size: 1.25em; padding: 0 0.5em 0.5em 0; font-style: italic'>
    漫漫路，莫论逍遥；潜心修，只为悟道
</div>
<div style="display: none">
    <script type="text/javascript">document.write(unescape("%3Cspan id='cnzz_stat_icon_1264503276'%3E%3C/span%3E%3Cscript src='https://s19.cnzz.com/z_stat.php%3Fid%3D1264503276%26online%3D1%26show%3Dline' type='text/javascript'%3E%3C/script%3E"));</script>
</div>
</body>
</html>

<script>
    var disqus_config = function () {
        this.page.url = "https://baijifeilong.github.io/2018/12/22/ios/index.html";
        this.page.identifier = "/2018/12/22/ios/index.html";
    };
    (function () { // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');
        s.src = 'https://baijifeilong.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>